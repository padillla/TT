var train = {
"stops": {
        "101010": {
            "name": "San José Atlántico",
            "long_name": "San José Atlántico",
            "locality": "Central, San José",
            "search_words": "San José Atlántico",
            "location": [
                9.93517,
                -84.06859
            ]
        },
        "101030": {
            "name": "Cementerio",
            "long_name": "San José, Cementerio",
            "locality": "Central, San José",
            "search_words": "San José, Cementerio",
            "location": [
                9.92702,
                -84.09178
            ]
        },
        "101031": {
            "name": "San José Pacífico",
            "long_name": "San José Pacífico",
            "locality": "Central, San José",
            "search_words": "San José Pacífico",
            "location": [
                9.92559,
                -84.08094
            ]
        },
        "101040": {
            "name": "Plaza González Víquez",
            "long_name": "San José, Plaza González Víquez",
            "locality": "Central, San José",
            "search_words": "San José, Plaza González Víquez",
            "location": [
                9.92496,
                -84.07436
            ]
        },
        "101041": {
            "name": "Procuradoría",
            "long_name": "San José, Procuradoría",
            "locality": "Central, San José",
            "search_words": "San José, Procuradoría",
            "location": [
                9.9314,
                -84.07217
            ]
        },
        "101080": {
            "name": "La Sabana-Contraloría",
            "long_name": "San José, La Sabana-Contraloría",
            "locality": "Central, San José",
            "search_words": "San José, La Sabana-Contraloría",
            "location": [
                9.93265,
                -84.10135
            ]
        },
        "101081": {
            "name": "La Sabana-Estadio",
            "long_name": "San José, La Sabana-Estadio",
            "locality": "Central, San José",
            "search_words": "San José, La Sabana-Estadio",
            "location": [
                9.93352,
                -84.11009
            ]
        },
        "101090": {
            "name": "Metrópolis",
            "long_name": "Pavas, Metrópolis",
            "locality": "Pavas, San José",
            "search_words": "Pavas, Metrópolis",
            "location": [
                9.95885,
                -84.153
            ]
        },
        "101091": {
            "name": "Demasa",
            "long_name": "Pavas, Demasa",
            "locality": "Pavas, San José",
            "search_words": "Pavas, Demasa",
            "location": [
                9.95012,
                -84.14411
            ]
        },
        "101092": {
            "name": "Pavas",
            "long_name": "Pavas Centro",
            "locality": "Pavas, San José",
            "search_words": "Pavas Centro",
            "location": [
                9.93997,
                -84.1338
            ]
        },
        "101093": {
            "name": "Jack's",
            "long_name": "Pavas, Jack's",
            "locality": "Pavas, San José",
            "search_words": "Pavas, Jack's",
            "location": [
                9.9402,
                -84.12382
            ]
        },
        "101094": {
            "name": "Rohrmoser",
            "long_name": "Pavas, Rohrmoser",
            "locality": "Pavas, San José",
            "search_words": "Pavas, Rohrmoser",
            "location": [
                9.93794,
                -84.11953
            ]
        },
        "101095": {
            "name": "Pecosa",
            "long_name": "Pavas, Pecosa",
            "locality": "Pavas, San José",
            "search_words": "Pavas, Pecosa",
            "location": [
                9.94614,
                -84.13763
            ]
        },
        "113050": {
            "name": "Cuatro Reinas",
            "long_name": "Tibás, Cuatro Reinas",
            "locality": "Tibás, San José",
            "search_words": "Tibás, Cuatro Reinas",
            "location": [
                9.95557,
                -84.08669
            ]
        },
        "115050": {
            "name": "San Pedro-UCR",
            "long_name": "Montes de Oca, San Pedro-UCR",
            "locality": "Montes de Oca, San José",
            "search_words": "Montes de Oca, San Pedro-UCR",
            "location": [
                9.93469,
                -84.05436
            ]
        },
        "115051": {
            "name": "Universidad Latina",
            "long_name": "Montes de Oca, Universidad Latina",
            "locality": "Montes de Oca, San José",
            "search_words": "Montes de Oca, Universidad Latina",
            "location": [
                9.9326,
                -84.04386
            ]
        },
        "118010": {
            "name": "Freses-CFIA",
            "long_name": "Curridabat, Freses-CFIA",
            "locality": "Curridabat, San José",
            "search_words": "Curridabat, Freses-CFIA",
            "location": [
                9.92707,
                -84.03885
            ]
        },
        "118011": {
            "name": "Cipreses-UACA",
            "long_name": "Curridabat, Cipreses-UACA",
            "locality": "Curridabat, San José",
            "search_words": "Curridabat, Cipreses-UACA",
            "location": [
                9.91955,
                -84.02433
            ]
        },
        "301020": {
            "name": "Cartago",
            "long_name": "Cartago",
            "locality": "Cartago, Cartago",
            "search_words": "Cartago",
            "location": [
                9.86667,
                -83.92216
            ]
        },
        "303060": {
            "name": "Tres Ríos",
            "long_name": "La Unión, Tres Ríos",
            "locality": "La Unión, Cartago",
            "search_words": "La Unión, Tres Ríos",
            "location": [
                9.91054,
                -83.98657
            ]
        },
        "401010": {
            "name": "Heredia",
            "long_name": "Heredia",
            "locality": "Heredia, Heredia",
            "search_words": "Heredia",
            "location": [
                9.99467,
                -84.11713
            ]
        },
        "403060": {
            "name": "Santa Rosa",
            "long_name": "Santo Domingo, Santa Rosa",
            "locality": "Santo Domingo, Heredia",
            "search_words": "Santo Domingo, Santa Rosa",
            "location": [
                9.97213,
                -84.09828
            ]
        },
        "407010": {
            "name": "San Antonio de Belén",
            "long_name": "Belén, San Antonio",
            "locality": "Belén, Heredia",
            "search_words": "Belén, San Antonio",
            "location": [
                9.9785,
                -84.18496
            ]
        },
        "409020": {
            "name": "Miraflores",
            "long_name": "San Pablo, Miraflores",
            "locality": "San Pablo, Heredia",
            "search_words": "San Pablo, Miraflores",
            "location": [
                9.98734,
                -84.10892
            ]
        }
    }};
//gets an array of stoptimes objects
/*
var getStopTimes  = function(trip) {
        var tripStops = [],
            len = train.stoptimes.length;
        for (var i = 0, l = len, found = false; i < l; i++) {
            if (train.stoptime[i].trip == trip) {
                found = true;
                tripStops.push(train.stoptime[i]);
            }
        }
        if (found) {
            //console.log(" this Trip is: " + stoptimes);
            console.log(" Este viaje en tren tiene " + tripStops.length + " paradas");
            console.log(tripStops);
        } else {
            console.log("no stops.");
        };
    }
getStopTimes(90);*/

//Transforming stops into geojson objects

var stopMarker = {
    "type": "Feature",
    "properties": {
        "id": null,
        "name": "",
        "long_name": "",
        "locality": "",
        "search_words": ""
    },
    "geometry": {
        "type": "Point",
        "coordinates": [
        ]
    }
};

console.log(stopMarker);

var moveData = function(){
    var newStops =[];
    var stops = train.stops;
    var Marker = Object.create(stopMarker);
    
    for (var id in stops) {
       var obj = stops[id];
       console.log("Handling propertie of stop: "+ id);
       Marker.properties.id = stops[id]
       for (var prop in obj) {
    
      if(obj.hasOwnProperty(prop)){
       console.log(">>>>  "+ prop + " = " + obj[prop]);
       
        Marker.properties.name = obj.name;
        Marker.properties.long_name = obj.long_name;
        Marker.properties.id = obj.locality;
        Marker.properties.id = obj.search_words;
        Marker.geometry.coordinates = obj.location;


      }
      newStops.push(Marker);
   }
   console.log(Marker)
   return newStops;
}
}


//Current stop object
"stops" :{
    "101010": {
        "name": "San José Atlántico",
        "long_name": "San José Atlántico",
        "locality": "Central, San José",
        "search_words": "San José Atlántico",
        "locaption": {
            "lat": "9.93517",
            "lon": "-84.06859"
        }
        
        
//Geojson format 
var geojsonSample= {
    "type": "Feature",
    "properties": {
        "Hello": "World"
    },
    "geometry": {
        "type": "Point",
        "coordinates": [
            -84.16656017303465,
            9.969104212901023
        ]
    }
};



moveData();